function validateForm(t){t=t.target.closest(".tab-pane.active");let e=!1;for(var a=$(t).find(".question"),s=0;s<a.length;s++)0===$(a[s]).find("input:checked").length&&(e||(e=!0,scrollToElement($(a[s]))),$(a[s]).addClass("has-error"));return e}let canSubmit=!1,QUESTION_COUNT=32;function handleSubmitButton(){var t=Array.from($(".radio input:checked")||[]).map(t=>t.id);sessionStorage.setItem("_values",JSON.stringify(t)),canSubmit=t.length===QUESTION_COUNT,$("#submit-quiz")[0].disabled=!canSubmit}function updatePreviousValues(){JSON.parse(sessionStorage.getItem("_values")||"[]").forEach(function(t){$("#"+t).prop("checked",!0)}),handleSubmitButton()}function updateHiddenValues(){$("#date").val((new Date).toISOString().substr(0,10)),$("#"+IDEOLOGY).val(sessionStorage.getItem(IDEOLOGY)),$("#"+MILITARY).val(sessionStorage.getItem(MILITARY)),$("#"+GREEN).val(sessionStorage.getItem(GREEN)),$("#"+DEFICIT).val(sessionStorage.getItem(DEFICIT))}function uploadResponses(t){$("#submit-quiz > i").toggleClass("hidden"),$.ajax({url:"https://script.google.com/macros/s/AKfycbzfWlXHxQ7uLpHu5o1YWjzgW6-Je8UyNgPIj0XWWZWdP3ofxMng6aJwks0CRxkjxwdf0w/exec",method:"GET",dataType:"json",data:Object.fromEntries(new FormData(t).entries())}).success(function(){console.debug("Responses stored")}).always(function(){$("#submit-quiz > i").toggleClass("hidden"),sessionStorage.setItem("_mode",!0),window.location.href="./results.html"})}function evaluateQuiz(){attempt1(),attempt2(),attempt3(),attempt4(),attempt5(),attempt6(),attempt7(),attempt8(),attempt9(),attempt10(),attempt11(),attempt12(),attempt13(),attempt14(),attempt15(),attempt16(),attempt17(),attempt18(),attempt19(),attempt20(),attempt21(),attempt22(),attempt23(),attempt24(),attempt25(),attempt26(),attempt27(),attempt28(),attempt29(),attempt30(),attempt31(),attempt32(),attemptFinal()}$(document).ready(function(){QUESTION_COUNT=$(".question").length,updatePreviousValues(),$(".btnNext").click(function(t){validateForm(t)?t.preventDefault():$(".nav-tabs > .active").next("li").find("a").trigger("click")}),$(".btnPrevious").click(function(){$(".nav-tabs > .active").prev("li").find("a").trigger("click")}),$(".radio input").on("change",function(t){const e=$(t.target).closest(".question");e.hasClass("has-error")&&e.removeClass("has-error"),handleSubmitButton()}),$("#quiz-form").on("submit",function(t){t.preventDefault(),!validateForm(t)&&canSubmit&&($("#submit-quiz")[0].disabled=!0,evaluateQuiz(),updateHiddenValues(),uploadResponses(this))})});